{% extends "base.html" %}
{% load static %}

{% block headextras %}
    <link href="{% static 'js/select2-3.4.5/select2.css' %}" rel="stylesheet">
    <link href="{% static 'js/select2-3.4.5/select2-bootstrap.css' %}" rel="stylesheet">
    <script src="{% static 'js/select2-3.4.5/select2.js' %}"></script>
    <link href="{% static 'js/chosen/chosen.min.css' %}" rel="stylesheet">
    <script src="{% static 'js/chosen/chosen.jquery.min.js' %}"></script>

{% endblock %}

{% block sidebar %}
    {% include "citation.html" %}
    </br>
    </br>
    </b>
{% endblock %}

{% block content %}
    <span class="pageName">IslandViewer</span><br />
    &nbsp;<br />
    <div class="bodyText">
        <p>IslandViewer is a computational tool that integrates four different genomic island prediction methods: IslandPick, IslandPath-DIMOB, SIGI-HMM, and Islander. For more information about methods and analyses see <a href="{% url 'about' %}">here</a> and in the <a href="{% url 'faq' %}">FAQs</a>.</p>
        <p>Try our new <strong>user management interface</strong> available under LOGIN (optional), and submit <a href="{% url "uploadform" %}">here</a> your custom genome to predict genomic islands using IslandPick, IslandPath-DIMOB, and SIGI-HMM. </p>
        <p>Or browse the pre-computed genomic island predictions for publicly available genomes, including Islander predictions as well:</p>
    </div>
    <select id="genomelist" class="chosen-select extraclass" style="width:550px;" data-placeholder="Select or start typing a species name, strain name or genome accession...">
        <option></option>
        {% for genome in analysis %}
            <option value="{{ genome.ext_id }}">{{ genome.name }} ({{ genome.ext_id }})</option>
        {% endfor %}
    </select><br />
    &nbsp;<br />
    <input id="gotoresults" type="button" value="Go to Genome" onclick="return goto_results()" />&nbsp;&nbsp; <a href="{% url "demo" %}">Example</a>, <a href="/islandviewer/results/77o4JuaaQC142rAY51Nw8G/">Example (incomplete genome)</a>
    <span class="bodyText">
        <br />
        <br />
        <br />
        <span class="pageName">News</span><br/>
        &nbsp;<br />
        <div>
           <p>2021-08-24 - A software bug introduced when moving to new hardware, that impacted some submissions of files for custom genome analysis, has now been fixed. Thank you for your patience with this and we sincerely apologize for any inconvenience caused. We still encourage you to contact us if you have any problems with running any Islandviewer analysis - thank you!</p>

           <p>2021-07-09 - There was an unscheduled downtime at SFU on Fri July 9th affecting multiple resources, including this service. Our apologies for any inconvenience caused.</p>

           <p>2021-06-24 - On Saturday July 3rd, during a window from 8 am to 4 pm Pacific time, there will be a major SFU Campus installation of new network equipment, causing a significant scheduled outage of network access to this resource. We encourage you to plan to not use this resource at that time and apologize for any inconvenience. Donâ€™t hesitate to contact us if you have any questions.</p>

           <p>2021-04-23 - A major scheduled system maintenance of IslandViewer is now complete. This update provides stability fixes, security improvements, and updates to some of the underlying software. Please note that BLAST has been updated in a new version of IslandPick and so minor variations in the output from this tool should be expected as a result. You should be able to access any existing accounts and previous jobs as usual, but will be required to refresh your API token if you wish to use the HTTP API. If you have any questions or concerns, please do not hesitate to contact us at <a href="mailto:islandpick-mail@sfu.ca">islandpick-mail@sfu.ca</a>. We sincerely apologize for any inconvenience this major upgrade and associated outage may have caused.</p>

           <p>2021/04/19 - IslandViewer is currently unavailable due to major system maintenance (transitioning to a new database and hardware) during the week of April 19, 2021. This update will provide stability fixes, security improvements, and updates to some of the underlying software. Please note that BLAST has been updated in the new version of IslandPick and minor variations in the output from this tool should be expected as a result. When the update is complete, you will be able to access any existing accounts and previous jobs as usual, but will be required to refresh your API token if you wish to use the HTTP API. If you have any questions or concerns, please do not hesitate to contact us at <a href="mailto:islandpick-mail@sfu.ca">islandpick-mail@sfu.ca</a>. We apologize for any inconvenience and thank you for your understanding as we implement this major upgrade.</p>

           <p>2021/03/29 - IslandViewer will be unavailable for at least five days during the week of April 19, 2021 for major scheduled maintenance (transitioning to a new database and hardware). It will not be possible to submit new jobs for analysis during this period. This update will provide stability fixes, security improvements, and updates to some of the underlying software. Please note that BLAST has been updated in the new version of IslandPick and minor variations in the output from this tool should be expected as a result. When the update is complete, you will be able to access any existing accounts and previous jobs as usual, but will be required to refresh your API token if you wish to use the HTTP API. If you have any questions or concerns, please do not hesitate to contact us at <a href="mailto:islandpick-mail@sfu.ca">islandpick-mail@sfu.ca</a>. We apologize for any inconvenience and thank you for your understanding as we implement this major upgrade.</p>

           <p>2020/12/20 - The most recent update of the IslandViewer reference database is complete. IslandViewer now has pre-computed GI results for 21,037 genomes. Thank you for your patience during the update.</p>

           <p>2020/12/17 - The current update is taking longer than anticipated. It is expected to last 3-4 more days. We apologize for any inconvenience this may cause. If you have an urgent need to use IslandViewer, please contact us at <a href="mailto:islandpick-mail@sfu.ca">islandpick-mail@sfu.ca</a>.</p>

           <p>2020/12/12 - An update of the reference genomes available in IslandViewer is underway. Job submissions will be suspended during this update, which is expected to last 1-2 days.</p>

           <p>2020/05/26 - IslandViewer now has pre-computed genomic island results for 17,981 genomes. Thank you for your patience during our recent update. </p>

	   <p>2019/05/09 - IslandViewer has been updated to include 13,704 genomes for pre-computed genomic island results and as a reference for contig rearrangement for custom draft genome submissions. We appreciate your patience during the update process.</p>

	   <p>2019/02/13 - IslandViewer and its web submission system will go down for scheduled maintenance between 10am and 11am Pacific time on Thursday, February 14th.</p> 

	   <p>2019/01/16 - The IslandViewer web submission system is back in operation following a
            longer than expected outage following to our recent migration to a new
            data center. Our apologies for any inconvenience this has
            caused.</p>

	    
	  <p>2018/12/26 -  Partial IslandViewer service has been restored.
	  Users can perform search for and view pre-computed analyses, however the ability to upload
	  genomes and perform new analyses is not yet operational.</p>

	  <p> 2018/12/11 -Scheduled Maintenance (updated)</p>

	  <p>Please note there will be a major scheduled downtime starting Dec 17, estimated to take about 3 days, to implement a major move of our services to new hardware in a new location. If you have any concerns please contact us at islandpick-mail@sfu.ca and we will try and help where possible. We apologize for any inconvenience and thank you for your understanding as we work to ensure robust services.
	  </p> 
          
	  <p> 2018/11/15 - An update of IslandViewer has been completed and genomic island predictions are now available for 11,033 bacterial genomes. </p>

            <p> 2018/10/24 - To prepare the future move of IslandViewer to new computing servers, custom genome submissions to IslandViewer will be unavailable for about an hour today Oct. 24th around 4pm PDT.</p>

            <p> 2018/03/06 - There were some issues with our server from March 6-13 that delayed users receiving custom analyses. These have now been resolved and we have implemented measures to avoid this happening again. We apologize for any inconvenience.</p>

            <p>2018/01/23 - The semi-annual IslandViewer update has been computed and genomic island predictions are now available for 8659 bacterial genomes. During the update, some user submitted custom analyses were affected and were notified. We have implemented a change in our update process to avoid this happening again. Our apologies for the inconvenience and thank you for your understanding. AMR predictions will be updated soon for all genomes in our database with the upcoming RGI new release.</p> 

            <p>2017/10/16 - Given the increased requests for IslandViewer predictions, we have now allocated more webserver resources. We apologize for any recent performance issues and thank you for your interest in IslandViewer. Please don't hesitate to contact us if you ever need any assistance.</p>

	    <p>2017/07/27 - IslandViewer 4 has been updated to include all complete genomes newly available in RefSeq as pre-computed results and as a reference for contig reordering.</p>

            <p>2017/05/08 - The article describing the novel features of IslandViewer 4 has been published in Open Access in Nucleic Acids Research - <a href="https://academic.oup.com/nar/article-lookup/doi/10.1093/nar/gkx343" target="_blank">doi: 10.1093/nar/gkx343</a>.</p>

            <p>2017/04/19 - IslandViewer 4 has officially been released. Login to check out the new user management interface to easily access previous results, and obtain credentials to use the HTTP API to submit many genomes and retrieve their results. Get expanded genomic island predictions using the latest IslandPath-DIMOB version in less time thanks to the integration of MASH for distance calculation. Browse interactively newly pre-computed predictions by SIGI-HMM, IslandPath-DIMOB, IslandPick and Islander in one of the 6587 publicly available genomes in a streamlined visualization that still highlights antimicrobial resistance genes, virulence factors and pathogen-associated genes. IslandViewer 3 remains available <a href="/islandviewer3">here</a> and links to previous IslandViewer 3 results will be automatically redirected.</p>

            <p>2017/01/01 - A new version of IslandViewer will soon be available: IslandViewer 4 will feature improved predictive capabilities for larger datasets while retaining its flexible visualization interface. For users wishing to finalize an analysis, IslandViewer 3 will remain available with an alternative url. Please check the latest news or subscribe to our <a href="{% url 'contactus' %}">mailing list</a> to be notified of new releases.</p>

            <p>2016/09/06 - IslandViewer 3 has been updated to include all 5306 complete genomes available in public databases as pre-computed results and as a reference for contig reordering.</p>

            <p>2016/05/02 - A planned power outage took place at SFU on May 1st. IslandViewer website remained available, enabling users to browse pre-computed genomic island predictions. The submission of custom genomes was disabled until all computing nodes were available again.</p>
        
            <p>2016/03/24 - The download of AMR and virulence genes from pre-computed results is now available. All links, including those pointing to other software, have been checked and updated. We are preparing the release of IslandViewer 4 that will include an improved IslandPath version enabling a much higher recall and precision in genomic island prediction. If you are interested in being notified when new IslandViewer versions are released, please subscribe to the <a href="{% url 'contactus' %}">new mailing list</a>.</p>

            <p>2016/01/21 - Small changes have been made to IslandViewer for improved clarity and better acknowledgement of past work. If you haven't already, check out the latest <a href="http://nar.oxfordjournals.org/content/43/W1/W104.full" target="_blank">IslandViewer</a> paper published last summer. Much more on improved visualization and genomic island predictions to come soon. </p>

            <p>2015/12/08 - Service was disrupted to IslandViewer and the SFU emergency power supply on Tuesday, December 8 while planned repairs took place. We apologize for the inconvenience. </p>

            <p>2015/04/20 - Islandviewer 3 is now out of beta, however if you still need to access older analysis using IslandViewer 2 we will keep it <a href="http://www.pathogenomics.sfu.ca/islandviewer2/query.php">available here</a> for the next few months.</p>

            <p>2015/03/03 - IslandViewer 3 has officially been released and is available here. IslandViewer 3 includes a new interactive genome visualization tool, IslandPlot, and expanded virulence factor, antimicrobial resistance gene, and pathogen-associated gene annotations, as well as homologs of these genes in closely related genomes. Notably, incomplete genomes are accepted as input in IslandViewer 3, though we strongly urge users to use complete genomes whenever possible. The old IslandViewer website will still be available for users to download results for any previously analyzed custom genomes, but will eventually be replaced by IslandViewer 3. If you have any questions, comments, or issues with IslandViewer 3, please <a href="{% url 'contactus' %}">contact us.</a> </p>

            <p>2015/01/01 - Interactive IslandPlot visualizations are now available for circular and linear genomes views. In addition to this, more curated virulence and resistance gene annotations have been incorporated, as well as homologs of these genes as determined using the Resistance Gene Identifier (RGI) and a custom approach for virulence factors. An updated pathogen-associated genes analysis has also been complete for all available genomes.</p>

            <p>2013/03/12 - Pathogen-associated gene annotations are now available on top of GI predictions, as determined in the study by <a href="http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0008094" target="_blank">Ho Sui et al., 2009</a>. Custom genome submissions are back online, but if you are experiencing any difficulties, please don't hesitate to contact us. Note that this pathogen-associated genes analysis is currently being updated for a future data release Some genomes will not have any results until this update is completed.</p>

            <p>2013/03/10 - Genome submissions are currently unavailable as we are upgrading our submission pipeline. Any jobs submitted on March 10th, 2013 may need to be re-run once the pipeline has been upgraded. We anticipate the pipeline should be back up within one or two days. Please don't hestitate to contact us if you have any further questions. Thank you for your patience as we improve IslandViewer!</p>

            <p>2012/12/31 - New changes have been implemented in IslandViewer. This includes incorporation of virulence factor and antibiotic resistance gene classifications from the Virulence Factor Database (VFDB) (see <a href="http://nar.oxfordjournals.org/content/40/D1/D641.full" target="_blank">Chen et al., 2012</a>) and the Antibiotic Resistance Gene Database (ARDB) (see <a href="http://nar.oxfordjournals.org/content/37/suppl_1/D443.long" target="_blank">Liu et al., 2009</a>) respectively, on top of GI predictions as well as a new side-by-side visualization page to compare two genomes. Please note that genomic island predictions have not changed. </p>

            &nbsp;<br />
            &nbsp;<br />
            &nbsp;<br />
        </div>
    </span>

    <script type="text/javascript">
        $(window).ready(function() {
            $(".chosen-select").chosen({disable_search_threshold: 10, no_results_text: "Oops, no genomes matching that name!", search_contains: true});
        });

        //$("#genomelist").select2();

        function goto_results()
        {
            if(!($("#genomelist").val())) {
                return;
            }

            var url = "{% url "resultsbyaccnum" 'NC11111.1' %}".replace('NC11111.1', $("#genomelist").val());
            window.location = url;

        }
    </script>
{% endblock content %}
